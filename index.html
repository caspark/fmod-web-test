<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  </head>
  <body>
    <script type="text/javascript" src="fmodstudioL.js"></script>
    <script type="module">
      import init from "./fmod-test.js";
      import createFmodController from "./fmod-web.js";

      // Initialize FMOD controller with the correct bank paths
      window.fmodController = createFmodController("/assets/", [
        "Master.bank",
        "Master.strings.bank",
        "SFX.bank",
      ]);

      // Create global playEvent function that uses the controller
      window.playEvent = function (soundid) {
        window.fmodController.play_event(soundid);
      };

      async function run() {
        await init();
      }
      run();
    </script>

    <button type="button" id="playEvent0" onclick="playEvent(0)" disabled>
      fire and forget the explosion</button
    ><br />
    <br />
    <button type="button" id="playEvent1" onclick="playEvent(1)" disabled>
      start the looping ambience</button
    ><br />
    <br />
    <button type="button" id="playEvent2" onclick="playEvent(2)" disabled>
      stop the looping ambience</button
    ><br />
    <br />
    <button type="button" id="playEvent3" onclick="playEvent(3)" disabled>
      start/restart the cancel sound</button
    ><br />
    <br />

    <span id="display_out"></span>
    <br />
    <span id="display_out2"></span>
    output is:
    <div id="output"></div>
  </body>
</html>
